# ============================================================
# DOCKERIGNORE FILE FOR NEXT.JS FRONTEND
# ============================================================
# This file tells Docker which files and directories to IGNORE
# when building the frontend image.
#
# PURPOSE:
# 1. Reduces build context size (faster builds)
# 2. Prevents sensitive files from entering the image
# 3. Excludes files that will be regenerated during build
# 4. Improves security and build performance
#
# NEXT.JS SPECIFIC:
# - node_modules: Will be installed fresh in container
# - .next: Will be rebuilt during Docker build
# - Build cache: Not needed in production image
# ============================================================

# ============================================================
# NODE.JS DEPENDENCIES
# ============================================================
# We install dependencies inside the Docker build
# No need to copy local node_modules

node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Package manager lock files (we copy these explicitly in Dockerfile)
# Uncomment if you want to exclude them:
# package-lock.json
# yarn.lock
# pnpm-lock.yaml

# ============================================================
# NEXT.JS BUILD OUTPUT
# ============================================================
# These directories are generated during build
# Including them would make the image use stale builds

# Next.js build output
.next/
out/

# Next.js cache directory
.next/cache/

# SWC compilation cache
.swc/

# ============================================================
# ENVIRONMENT FILES
# ============================================================
# CRITICAL: Never include environment files in Docker images
# They contain API keys, secrets, and configuration

.env
.env.local
.env.development
.env.production
.env.test
.env*.local
*.env

# Environment backups
*.env.backup
*.env.bak

# ============================================================
# DEVELOPMENT TOOLS AND IDE FILES
# ============================================================
# These are specific to your local development setup

# VS Code
.vscode/
*.code-workspace

# JetBrains IDEs (WebStorm, IntelliJ)
.idea/
*.iml

# Sublime Text
*.sublime-project
*.sublime-workspace

# Vim
*.swp
*.swo
*~

# Emacs
*~
\#*\#
.\#*

# ============================================================
# OPERATING SYSTEM FILES
# ============================================================

# macOS
.DS_Store
.AppleDouble
.LSOverride
._*

# Windows
Thumbs.db
Thumbs.db:encryptable
ehthumbs.db
ehthumbs_vista.db
Desktop.ini
$RECYCLE.BIN/

# Linux
.directory
.Trash-*

# ============================================================
# TESTING
# ============================================================
# Test files and coverage reports aren't needed in production

# Test coverage
coverage/
.nyc_output/
*.lcov

# Jest
jest.config.js
jest.config.ts
__tests__/
**/*.test.ts
**/*.test.tsx
**/*.test.js
**/*.test.jsx
**/*.spec.ts
**/*.spec.tsx
**/*.spec.js
**/*.spec.jsx

# Playwright
playwright-report/
test-results/

# Cypress
cypress/
cypress.json

# ============================================================
# TYPESCRIPT
# ============================================================
# Type checking output (types are compiled during build)

*.tsbuildinfo
tsconfig.tsbuildinfo

# ============================================================
# LINTING AND FORMATTING
# ============================================================
# Linting configuration and cache

.eslintcache
.stylelintcache
.prettierignore

# ESLint
# Uncomment if you don't need linting in the image:
# .eslintrc
# .eslintrc.json
# .eslintrc.js

# ============================================================
# GIT AND VERSION CONTROL
# ============================================================
# Git metadata isn't needed in production containers

.git/
.gitignore
.gitattributes
.github/

# ============================================================
# DOCUMENTATION
# ============================================================
# Documentation files are not needed to run the app

README.md
CHANGELOG.md
CONTRIBUTING.md
LICENSE
*.md
docs/

# ============================================================
# DOCKER FILES
# ============================================================
# Don't include Docker files inside the image

Dockerfile
Dockerfile.*
.dockerignore
docker-compose*.yml

# ============================================================
# BUILD AND DEPLOYMENT
# ============================================================

# Vercel deployment files
.vercel/

# Build artifacts
build/
dist/

# ============================================================
# LOGS
# ============================================================
# Log files are generated at runtime

logs/
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*
pnpm-debug.log*

# ============================================================
# TEMPORARY FILES
# ============================================================

tmp/
temp/
*.tmp
*.temp

# ============================================================
# STORYBOOK
# ============================================================
# Storybook is a development tool

.storybook/
storybook-static/

# ============================================================
# MISCELLANEOUS
# ============================================================

# Dependency directories that might be in your project
jspm_packages/

# Optional npm cache directory
.npm/

# Optional eslint cache
.eslintcache

# Optional stylelint cache
.stylelintcache

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# parcel-bundler cache
.cache/
.parcel-cache/

# ============================================================
# WHAT GETS INCLUDED?
# ============================================================
# After all exclusions, Docker build will include:
#
# EXPLICITLY COPIED IN DOCKERFILE:
# - package.json (for dependency installation)
# - package-lock.json (for exact versions)
#
# COPIED WITH 'COPY . .':
# - app/ directory (Next.js app router pages)
# - components/ directory (React components)
# - lib/ directory (utilities, API client, store)
# - public/ directory (static assets: images, fonts, etc.)
# - styles/ directory (global CSS if separate)
# - next.config.js (Next.js configuration)
# - tsconfig.json (TypeScript configuration)
# - tailwind.config.ts (Tailwind CSS config)
# - postcss.config.js (PostCSS config)
#
# This typically results in a build context of 1-5 MB instead of
# potentially hundreds of MB with node_modules included.
# ============================================================

# ============================================================
# VERIFICATION
# ============================================================
# To see what files will be sent to Docker:
#
# Method 1: Check build context size in build output
# docker build -t test ./frontend
# Look for: "Sending build context to Docker daemon"
#
# Method 2: Manually check which files match .dockerignore
# docker run --rm -v $(pwd):/workspace -w /workspace \
#   alpine:latest sh -c \
#   'tar --exclude-from=.dockerignore -czf - . | tar -tzf -'
#
# ============================================================

# ============================================================
# PERFORMANCE NOTES
# ============================================================
#
# BUILD CONTEXT SIZE IMPACT:
# - Without .dockerignore: ~500 MB (includes node_modules)
# - With .dockerignore: ~2-5 MB
# - Time saved: ~30-60 seconds per build
#
# LAYER CACHING:
# - Excluding .next/ allows Docker to cache build layers
# - Only copying package.json first maximizes cache hits
# - Code changes don't invalidate dependency layers
#
# ============================================================
