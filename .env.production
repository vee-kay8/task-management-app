# ============================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================================
# CRITICAL: This file contains production-specific variables
# SECURITY WARNING: Update all secrets before deploying!
# ============================================================

# ===================================
# ENVIRONMENT
# ===================================
NODE_ENV=production
FLASK_ENV=production
FLASK_DEBUG=False

# ===================================
# DATABASE CONFIGURATION
# ===================================
# IMPORTANT: Change these credentials for production!
POSTGRES_DB=taskmanagement_db
POSTGRES_USER=taskapp_user
POSTGRES_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD_IN_PRODUCTION

# Production Database URL (update with your production database)
DATABASE_URL=postgresql://taskapp_user:CHANGE_PASSWORD@db:5432/taskmanagement_db

# Production Database Pool Settings (tune based on your load)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40

# ===================================
# BACKEND (Flask) CONFIGURATION
# ===================================
FLASK_APP=run.py
FLASK_HOST=0.0.0.0
FLASK_PORT=5000

# CRITICAL: Generate strong random keys for production!
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=GENERATE_RANDOM_64_CHAR_HEX_STRING_HERE
JWT_SECRET_KEY=GENERATE_DIFFERENT_RANDOM_64_CHAR_HEX_STRING_HERE

# Example (DO NOT USE):
# SECRET_KEY=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2
# JWT_SECRET_KEY=z9y8x7w6v5u4t3s2r1q0p9o8n7m6l5k4j3i2h1g0f9e8d7c6b5a4z3y2x1w0v9u8

# ===================================
# JWT AUTHENTICATION
# ===================================
JWT_ACCESS_TOKEN_EXPIRES=3600        # 1 hour (consider shorter for production)
JWT_REFRESH_TOKEN_EXPIRES=604800     # 7 days (reduced from 30 for security)
JWT_ALGORITHM=HS256

# ===================================
# FRONTEND (Next.js) CONFIGURATION
# ===================================
# Update with your production domain
NEXT_PUBLIC_API_URL=https://api.yourdomain.com/api
PORT=3000
HOSTNAME=0.0.0.0
NEXT_TELEMETRY_DISABLED=1

# ===================================
# CORS SETTINGS
# ===================================
# Update with your production frontend domain
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# ===================================
# DOCKER CONFIGURATION
# ===================================
COMPOSE_PROJECT_NAME=task-management-app
TZ=UTC

# ===================================
# APPLICATION SETTINGS
# ===================================
ITEMS_PER_PAGE=20
APP_NAME=Task Management App
API_VERSION=v1
LOG_LEVEL=WARNING  # Use WARNING or ERROR in production

# ===================================
# REDIS (Recommended for production)
# ===================================
# Uncomment and configure if using Redis for caching
# REDIS_URL=redis://redis:6379/0
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_DB=0

# ===================================
# FILE UPLOAD SETTINGS
# ===================================
MAX_FILE_SIZE_MB=10
ALLOWED_EXTENSIONS=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif
UPLOAD_FOLDER=/app/uploads

# ===================================
# AWS S3 CONFIGURATION (If using cloud storage)
# ===================================
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=taskmanagement-attachments-prod

# ===================================
# MONITORING & LOGGING (Production)
# ===================================
# Configure based on your monitoring solution
# SENTRY_DSN=https://your-sentry-dsn
# NEW_RELIC_LICENSE_KEY=your-newrelic-key
# DATADOG_API_KEY=your-datadog-key

# ===================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ===================================
# Before deploying, ensure:
# ✓ All SECRET_KEY values are strong random strings
# ✓ Database password is changed from default
# ✓ All URLs updated to production domains (HTTPS)
# ✓ CORS_ORIGINS updated to production domains
# ✓ FLASK_DEBUG is False
# ✓ LOG_LEVEL is WARNING or ERROR
# ✓ Database backups are configured
# ✓ SSL/TLS certificates are configured
# ✓ Firewall rules are set
# ✓ Monitoring and alerting are configured
# ✓ Rate limiting is enabled
# ✓ Security headers are configured
